<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title>Création d'équipe</title>
		
		<style>
			.bloc {
                font-family: "Gill Sans", sans-serif;
                font-weight: bold;
			}
			
			.divList {
				 display: inline-block;
			}
			
			.switch {
				position: relative;
				display: inline-block;
			 	width: 60px;
				height: 34px;
                bottom: 6px;
			}	
			
			.slider {
			  	position: absolute;
		  		cursor: pointer;
		  		top: 0;
				left: 0;
		  		right: 0;
		  		bottom: 0;
		  		background-color: #ccc;
		  		-webkit-transition: .4s;
		  		transition: .4s;
			}
			
            .switch input { 
                opacity: 0;
                width: 0;
                height: 0;
            }
            
			.slider:before {
			  	position: absolute;
			  	content: "";
			  	height: 26px;
			  	width: 26px;
			  	left: 4px;
			  	bottom: 4px;
			  	background-color: white;
			  	-webkit-transition: .4s;
			  	transition: .4s;
			}
			
			input:checked + .slider {
			  	background-color: #2196F3;
			}
			
			input:focus + .slider {
			  	box-shadow: 0 0 1px #2196F3;
			}
			
			input:checked + .slider:before {
			  	-webkit-transform: translateX(26px);
			  	-ms-transform: translateX(26px);
			  	transform: translateX(26px);
			}
			
			.slider.round {
			  	border-radius: 34px;
			}
			
			.slider.round:before {
			  	border-radius: 50%;
			}
            
            p {
                display: inline-block;
                font-size: 19px;
            }
            
            body {
            	text-align: center;
            }
            
            .row3 {
                position: absolute;
                left: 45%;
            }
            .row4 {
                position: absolute;
                left: 50%;
            }
            
            input[type=text] {
            	border-radius:5px;
            }
            
            button[type=submit] {
			    padding:5px 15px; 
			    background:#ccc; 
			    border:0 none;
			    cursor:pointer;
			    -webkit-border-radius: 5px;
			    border-radius: 5px; 
			}
		</style>
		
		<script type="text/javascript">
			function handleClick() { 
				var checkbox = document.getElementById("equipeSwitch");
				
				var div = document.getElementById("divRadioButtonsEquipes");
				var div2 = document.getElementById("divTextEquipes");
				
				var divEveryTeam = document.getElementById("divEveryTeam");
				
				var radioB2 = document.getElementsByName('team')[0];
				var radioB3 = document.getElementsByName('team')[1];
				
				var textE1 = document.getElementById('teamI1');
				var textE2 = document.getElementById('teamI2');
				var textE3 = document.getElementById('teamI3');
				
				var listJ1 = document.getElementById('divListNbJ1');
				var listJ2 = document.getElementById('divListNbJ2');
				var listJ3 = document.getElementById('divListNbJ3');
				
				var valueListJ1 = document.getElementById('listNbJ1');
				var valueListJ2 = document.getElementById('listNbJ2');
				var valueListJ3 = document.getElementById('listNbJ3');
				
				if(checkbox.checked) {
					div.style.display = "block";
					div2.style.display = "block";
					
					textE1.style.display = "none";
					textE2.style.display = "none";
					textE3.style.display = "none";
					
					textE1.value = "";
					textE2.value = "";
					textE3.value = "";
					
				} else {
					div.style.display = "none";
					div2.style.display = "none";
					
					radioB2.checked = false;
					radioB3.checked = false;
					
					divEveryTeam.style.display = "none";
					
					listJ1.style.display = "none";
					listJ2.style.display = "none";
					listJ3.style.display = "none";
					
					valueListJ1.value = "";
					valueListJ2.value = "";
					valueListJ3.value = "";
					
					textE1.value = "";
					textE2.value = "";
					textE3.value = "";
				}
			}
			
			function afficheInput(radButton){
				var textE1 = document.getElementById('teamI1');
				var textE2 = document.getElementById('teamI2');
				var textE3 = document.getElementById('teamI3');
				
				var radioB2 = document.getElementsByName('team')[0];
				var radioB3 = document.getElementsByName('team')[1];
				
				var listJ1 = document.getElementById('divListNbJ1');
				var listJ2 = document.getElementById('divListNbJ2');
				var listJ3 = document.getElementById('divListNbJ3');
				
				var valueListJ1 = document.getElementById('listNbJ1');
				var valueListJ2 = document.getElementById('listNbJ2');
				var valueListJ3 = document.getElementById('listNbJ3');
				
				var checkbox = document.getElementById("equipeSwitch");
				
				var divEveryTeam = document.getElementById("divEveryTeam");
				
				var div = document.getElementById("divTextEquipes");
				
				if(checkbox.checked == true) {
					
					if(radButton.checked == true) {
						
						divEveryTeam.style.display = "block";
						
						if(radButton == radioB2) {
							
							textE1.style.display = "inline";
							textE2.style.display = "inline";
							textE3.style.display = "none";
							
							listJ1.style.display = "inline";
							listJ2.style.display = "inline";
							listJ3.style.display = "none";
							
							valueListJ3.value = "";
							
						} else if(radButton == radioB3) {
							
							textE1.style.display = "inline";
							textE2.style.display = "inline";
							textE3.style.display = "inline";
							
							listJ1.style.display = "inline";
							listJ2.style.display = "inline";
							listJ3.style.display = "inline";
							
						}
						
					}
					
				}
				
			}
			
			function changeMaxValue() {
				var radioB2 = document.getElementsByName('team')[0];
				var radioB3 = document.getElementsByName('team')[1];
				
				var valueListJ1 = document.getElementById('listNbJ1');
				var valueListJ2 = document.getElementById('listNbJ2');
				var valueListJ3 = document.getElementById('listNbJ3');
				
				var totalValue2Teams = parseInt(valueListJ1.value, 10) + parseInt(valueListJ2.value, 10);
				var totalValue3Teams = parseInt(valueListJ1.value, 10) + parseInt(valueListJ2.value, 10) + parseInt(valueListJ3.value, 10);
				
				if(radioB2.checked) {
					
					if(totalValue2Teams >= 6) {
						document.getElementById('listNbJ1').max = valueListJ1.value;
						document.getElementById('listNbJ2').max = valueListJ2.value;
						
					} else {
						valueListJ1.setAttribute("max", 5);
						valueListJ2.setAttribute("max", 5);
						
					}
					
				} else if (radioB3.checked) {
					
					if(totalValue3Teams >= 6) {
						document.getElementById('listNbJ1').max = valueListJ1.value;
						document.getElementById('listNbJ2').max = valueListJ2.value;
						document.getElementById('listNbJ3').max = valueListJ3.value;
					} else {
						valueListJ1.setAttribute("max", 5);
						valueListJ2.setAttribute("max", 5);
						valueListJ3.setAttribute("max", 5);
					}
					
				}
			}
			
			window.onload = function() {
				handleClick();
			};
		</script>
         
	</head>
	
	<body>
		<form method="POST">
			<div class="bloc">
				<p>Voulez-vous jouez en équipe ?</p>
				<label class="switch">
				  <input type="checkbox" onchange="handleClick();" id="equipeSwitch">
				  <span class="slider round"></span>
				</label>
			</div>
			
			<!-- Afficher les radio bouttons si le slider est à true -->
			<div id="divRadioButtonsEquipes" class="bloc">
				<p> Nombre d'équipes : </p>
	  			<div class="row3"><input type="radio" id="radio1" name="team" value="2" onchange="afficheInput(this)" >2</div>
	  			
	  			<div class="row4"><input type="radio" id="radio2" name="team" value="3" onchange="afficheInput(this)" >3</div>
	            
			</div>
			
			<!-- Afficher les input si le slider est à true -->
			<div id="divTextEquipes" class="bloc">
	        	<br>
	            <br>
	            <input id="teamI1" name="team1" type="text" placeholder="Equipe1" size="15px" />
	            <input id="teamI2" name="team2" type="text" placeholder="Equipe2" size="15px" />
	            <input id="teamI3" name="team3" type="text" placeholder="Equipe3" size="15px" />
			</div>
			
			<div class="bloc" id="divEveryTeam">
				<br>
				Nombre de joueurs pour chaque équipe
				<br>
				<div class="divList" id="divListNbJ1">
					<br>
					<label for="quantity">Equipe 1: &nbsp</label>
					<input type="number" id="listNbJ1" name="listNbJ1" min="1" max="5" size="2px" oninput="changeMaxValue()">
				</div>
				
				<div class="divList" id="divListNbJ2">
					<label for="quantity">&nbsp Equipe 2: &nbsp</label>
					<input type="number" id="listNbJ2" name="listNbJ2" min="1" max="5" size="2px" oninput="changeMaxValue()">
				</div>
				
				<div class="divList" id="divListNbJ3">
					<label for="quantity">&nbsp Equipe 3: </label>
					<input type="number" id="listNbJ3" name="listNbJ3" min="1" max="4" size="2px" oninput="changeMaxValue()">
				</div>
			</div>
			
			<div>
				<br>
                <button type="submit">Valider</button>
            </div>
		</form>
	</body>
</html>









